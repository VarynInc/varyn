!function(e){"use strict";var t={version:"1.3.1"},n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=0;function s(t,n){var r,s,o=!1;void 0!==t&&null!=t&&""!=t||(t="localStorage");try{(o=t in e&&null!==e[t])&&n&&(r=e[t],s="commonUtilities",r.setItem(s,"1"),r.removeItem(s))}catch(e){o=!1}return o}if(t.objectToString=function(e){var t,n;if(e)for(n in t="",e)e.hasOwnProperty(n)&&(t+=(t.length>0?" ":"")+n+": "+e[n]+";");else t="null;";return t},t.arrayToString=function(e){var t,n,r;if(e&&e instanceof Array){for(n in t="[",e)void 0===(r=e[n])?r="undefined":"object"==typeof r?r=this.objectStringify(r):"array"==typeof r&&(r=this.arrayToString(r)),t+=(t.length>1?", ":"")+n+": "+r;t+="]"}else t="null";return t},t.objectStringify=function(e){var t,n=[];if(null==e)return String(e);if("function"==typeof e)n.push(e.toString());else{if("object"==typeof e){if(void 0===e.join){for(t in e)e.hasOwnProperty(t)&&n.push(t+": "+this.objectStringify(e[t]));return"{"+n.join(", ")+"}"}for(t in e)n.push(this.objectStringify(e[t]));return"["+n.join(", ")+"]"}n.push(JSON.stringify(e))}return n.join(", ")},t.queryStringToObject=function(e){var t,n=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(/\+/g," "))},s={};for(e||(e=window.location.search.substring(1));t=n.exec(e);)s[r(t[1])]=r(t[2]);return s},t.extendObject=function(){var e,t,n,r,s,o,i;if(arguments.length>0){if(n=arguments[0],arguments.length>1)for(o=0,i=(s=arguments.slice(1)).length;o<i;o++)for(e in r=s[o])t=r[e],n[e]=t}else n={};return n},t.matchInArray=function(e,t){var n,r=0;if(e&&t&&t.constructor===Array)for(n=t.length;r<n;r++)if(e.match(t[r]))return r;return-1},t.makeFullPath=function(e){return e?("/"!==e[e.length-1]&&(e+="/"),"/"!==e[0]&&(e="/"+e)):e="/",e},t.appendFileToPath=function(e,t){return e&&t?"/"!==e[e.length-1]&&"/"!==t[0]?e+="/"+t:"/"==e[e.length-1]&&"/"==t[0]?e+=t.substr(1):e+=t:t&&(e=t),e},t.tokenReplace=function(e,t){var n,r;for(n in t)t.hasOwnProperty(n)&&(r=new RegExp("{"+n+"}","g"),e=e.replace(r,t[n]));return e},t.stringTranslate=function(e,t,n){var r,s,o,i,a="";if("string"!=typeof e||e.length<1||!Array.isArray(t)||!Array.isArray(n)||t.length!=n.length)return e;for(i=e.length,r=0;r<i;r++)s=e.charAt(r),(o=t.indexOf(s))>=0&&(s=n[o]),a+=s;return a},t.isEmpty=function(e){return null==e||!1===e||"string"==typeof e&&(""===e||"null"===e||"NULL"===e)||e instanceof Array&&0==e.length||"number"==typeof e&&(isNaN(e)||0===e)},t.isNull=function(e){return null==e},t.coerceBoolean=function(e){return"string"==typeof e?"1"===(e=e.toLowerCase())||"true"===e||"t"===e||"checked"===e||"yes"===e||"y"===e:!0===e||1===e},t.coerceNotEmpty=function(){var e,n=arguments.length;if(0==n)e=null;else if(1==n)e=arguments[0];else{for(var r=0;r<n;r++)if(!t.isEmpty(arguments[r])){e=arguments[r];break}void 0===e&&(e=arguments[n-1])}return e},t.coerceNotNull=function(){var e,n=arguments.length;if(0==n)e=null;else if(1==n)e=void 0===arguments[0]?null:arguments[0];else{for(var r=0;r<n;r++)if(!t.isNull(arguments[r])){e=arguments[r];break}void 0===e&&(e=arguments[n-1])}return e},t.safeForHTML=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return(""+e).replace(/[&<>"'\/]/g,(function(e){return t[e]}))},t.makeSafeForId=function(e){return"string"!=typeof e&&(e=null!=e?e.toString():"id"),(e=e.trim()).length>0?e.replace(/-/g," ").replace(/[^\w\s]/g,"").replace(/\s\s+/g," ").replace(/\s/g,"-").toLowerCase().substr(0,50):"id"},t.isMobile=function(){return t.isMobileAndroid()||t.isMobileBlackberry()||t.isMobileIos()||t.isMobileWindows()},t.isMobileAndroid=function(){return navigator.userAgent.match(/Android/i)},t.isMobileBlackberry=function(){return!!navigator.userAgent.match(/BlackBerry/i)},t.isMobileIos=function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)},t.isMobileWindows=function(){return!!navigator.userAgent.match(/IEMobile/i)},t.unlockWebAudio=function(){var e=document.createElement("audio");return e.controls=!1,e.preload="auto",e.loop=!1,e.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",document.addEventListener("visibilitychange",(function(){"visible"==document.visibilityState&&e.play()})),e},t.utf8Encode=function(e){var t,n,r="",s=e.length;for(e=e.replace(/\r\n/g,"\n"),t=0;t<s;t++)(n=e.charCodeAt(t))<128?r+=String.fromCharCode(n):n>127&&n<2048?(r+=String.fromCharCode(n>>6|192),r+=String.fromCharCode(63&n|128)):(r+=String.fromCharCode(n>>12|224),r+=String.fromCharCode(n>>6&63|128),r+=String.fromCharCode(63&n|128));return r},t.utf8Decode=function(e){for(var t,n,r,s="",o=e.length,i=0;i<o;)(t=e.charCodeAt(i))<128?(s+=String.fromCharCode(t),i++):t>191&&t<224?(n=e.charCodeAt(i+1),s+=String.fromCharCode((31&t)<<6|63&n),i+=2):(n=e.charCodeAt(i+1),r=e.charCodeAt(i+2),s+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&r),i+=3);return s},t.base64FromImageUrl=function(e,t){var n=new Image;n.src=e,n.onload=function(){var e,n=document.createElement("canvas"),r=n.getContext("2d");n.width=this.width,n.height=this.height,r.drawImage(this,0,0),e=n.toDataURL("image/png"),t(e)}},t.base64Encode=function(e){var r,s,o,i,a,u,l,c="",d=e.length,f=0;for(e=t.utf8Encode(e);f<d;)i=(r=e.charCodeAt(f++))>>2,a=(3&r)<<4|(s=e.charCodeAt(f++))>>4,u=(15&s)<<2|(o=e.charCodeAt(f++))>>6,l=63&o,isNaN(s)?u=l=64:isNaN(o)&&(l=64),c=c+n.charAt(i)+n.charAt(a)+n.charAt(u)+n.charAt(l);return c},t.base64Decode=function(e){var r,s,o,i,a,u,l="",c=e.length,d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<c;)r=n.indexOf(e.charAt(d++))<<2|(i=n.indexOf(e.charAt(d++)))>>4,s=(15&i)<<4|(a=n.indexOf(e.charAt(d++)))>>2,o=(3&a)<<6|(u=n.indexOf(e.charAt(d++))),l+=String.fromCharCode(r),64!=a&&(l+=String.fromCharCode(s)),64!=u&&(l+=String.fromCharCode(o));return t.utf8Decode(l)},t.roundTo=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},t.cookieGet=function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},t.cookieSet=function(e,t,n,r,s,o){var i="",a="; expires=Fri, 31 Dec 9999 23:59:59 GMT";if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;if("object"==typeof t&&(t=JSON.stringify(t)),n)switch(n.constructor){case Number:i=n===1/0?a:"; max-age="+n;break;case String:i="; expires="+n;break;case Date:i="; expires="+n.toUTCString();break;default:i=a}else i=a;return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+i+(s?"; domain="+s:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},t.cookieRemove=function(e,n,r){return!!t.cookieExists(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r?"; domain="+r:"")+(n?"; path="+n:""),!0)},t.cookieExists=function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},t.cookieGetKeys=function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e},t.haveSessionStorage=function(){return s("sessionStorage",!0)},t.haveLocalStorage=function(){return s("localStorage",!0)},t.storageGet=function(t,n){var r,s;return void 0!==n&&null!=n||(n=e.localStorage),null!=(r=n.getItem(t))&&null==(s=JSON.parse(r))&&(s=r),s},t.saveObjectWithKey=function(t,n){var r,o,i=!1;if(s("localStorage",!1)&&null!=t)try{r=e.localStorage,null!=n?(o="object"==typeof n?JSON.stringify(n):n.toString(),r.setItem(t,o)):r.removeItem(t),i=!0}catch(e){i=!1}return i},t.loadObjectWithKey=function(t){var n,r=null;if(s("localStorage",!1)&&null!=t)try{null!=(n=e.localStorage[t])&&(r="{"==n[0]||"]"==n[0]?JSON.parse(n):n)}catch(e){r=null}return r},t.removeObjectWithKey=function(t){var n=!1;if(s("localStorage",!1)&&null!=t)try{e.localStorage.removeItem(t),n=!0}catch(e){n=!1}return n},t.shareOnFacebook=function(e,t,n,r){var s="&p[title]="+encodeURIComponent(e)+"&p[summary]="+encodeURIComponent(t)+"&p[url]="+encodeURIComponent(n)+"&p[images][0]="+encodeURIComponent(r);window.open("http://www.facebook.com/sharer.php?s=100"+s,"Share on Facebook","toolbar=no,status=0,width=626,height=436")},t.shareOnTwitter=function(e,t,n,r){var s="text="+encodeURIComponent(e)+"&url="+encodeURIComponent(t)+"&related="+n+"&hashtags="+r;window.open("https://twitter.com/intent/tweet?"+s,"Tweet","toolbar=no,status=0,width=626,height=436")},t.shareByEmail=function(e,t,n){n&&(t=t+"\n\n"+n),window.open("mailto:?subject="+encodeURIComponent(e)+"&body="+encodeURIComponent(t),"Share by Email","toolbar=no,status=0,width=626,height=436")},t.performanceTest=function(t,n,s){var o,i,a;for(r++,o=e.performance.now(),a=0;a<s;a++)t();return i=e.performance.now()-o,{testNumber:r,testFunction:n,duration:i,durationUnits:"ms",totalIterations:a}},t.MySQLDate=function(e){return null==e?e=new Date:e instanceof Date||(e=new Date(e)),e.toISOString().slice(0,10)},t.subtractYearsFromNow=function(e){var t=new Date;return t.setFullYear(t.getFullYear()-e),t},t.insertScriptElement=function(e,t,n){if(!document.getElementById(e)){var r=document.createElement("script");void 0!==n&&null!=n&&""!=n||(n="script");var s=document.getElementsByTagName(n)[0];null==s&&(s=document.getElementsByTagName("div")[0]),r.id=e,r.src=t,script.type="text/javascript",script.async=!0,s.appendChild(script)}},t.tagParse=function(e,n){var r,s;if(null==e||e.length<1)r=null;else{for(null!=n&&""!=n||(n=";"),s=(r=e.split(n)).length-1;s>=0;s--)r[s]=t.stripTags(r[s].trim(),"").substr(0,50).trim(),r[s].length<2&&r.splice(s,1);r.length<1&&(r=null)}return r},t.stripTags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""}))},t.isValidEmail=function(e){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()\.,;\s@\"]+\.{0,1})+([^<>()\.,;:\s@\"]{2,}|[\d\.]+))$/.test(e)},t.validateFields=function(e,t){var n,r,s,o,i,a,u=[];if(null!=e&&null!=t)for(n in t)if(t.hasOwnProperty(n))if(r=t[n],s=e[n],r.hasOwnProperty("optional")||(r.optional=!1),!r.optional&&this.isEmpty(s))u[n]={code:"required",message:"This field is required."};else if(r.hasOwnProperty("validator"))r.validator(n,s)||(u[n]={code:"validator",message:"This field failed validation."});else if(!r.optional||!this.isEmpty(s))switch(r.hasOwnProperty("type")||(r.type="string"),r.hasOwnProperty("min")||(r.min="number"==r.type?Number.MIN_SAFE_INTEGER:0),r.hasOwnProperty("max")||(r.max=Number.MAX_SAFE_INTEGER),i=r.hasOwnProperty("options")?r.options:[],r.type){case"string":s.length<r.min?u[n]={code:"min",message:"The field length is less than the minimum number of characters."}:s.length>r.max?u[n]={code:"max",message:"The field length is more than the maximum number of characters."}:i.length>0&&i.indexOf(s)<0&&(u[n]={code:"options",message:"The field value is not an option."});break;case"number":s<r.min?u[n]={code:"min",message:"The field is less than the minimum value allowed."}:s>r.max?u[n]={code:"max",message:"The field is more than the maximum value allowed."}:i.length>0&&i.indexOf(s)<0&&(u[n]={code:"options",message:"The field value is not an option."});break;case"bool":case"boolean":i.length>0&&i.indexOf(s)<0&&(u[n]={code:"options",message:"The field value is not an option."});break;case"date":s instanceof Date&&((o=s.getTime())<r.min?u[n]={code:"min",message:"The date field is before the minimum date allowed."}:o>r.max?u[n]={code:"max",message:"The date field is after the maximum date allowed."}:i.length>0&&i.indexOf(o)<0&&(u[n]={code:"options",message:"The field value is not a valid option."}));break;case"array":if(s.length<r.min)u[n]={code:"min",message:"The field contains less than the minimum number of items."};else if(s.length>r.max)u[n]={code:"max",message:"The field contains more than the maximum number of items."};else if(i.length>0)for(a=0;a<s.length;a++)if(i.indexOf(s[a])<0){u[n]={code:"options",message:"A field value is not a valid option."};break}break;case"email":this.isEmpty(s)||this.isValidEmail(s)||(u[n]={code:"invalid",message:"The email address is not valid."})}return u},t.domainDropServer=function(e){var t=e?e.toString():"",n=t.indexOf("://");n>0&&(t=t.substring(n+3)),0==(n=t.indexOf("//"))&&(t=t.substring(2)),(n=t.indexOf("/"))>0&&(t=t.substring(0,n)),(n=t.indexOf(":"))>0&&(t=t.substring(0,n));var r=t.split(".");return r.length>2&&r.shift(),t=r.join(".")},t.md5=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,s,o,i;return s=2147483648&e,o=2147483648&t,i=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^i^s^o:n|r?1073741824&i?3221225472^i^s^o:1073741824^i^s^o:i^s^o}function r(e,r,s,o,i,a,u){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,s,o),i),u)),n(t(e,a),r)}function s(e,r,s,o,i,a,u){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,s,o),i),u)),n(t(e,a),r)}function o(e,r,s,o,i,a,u){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,s,o),i),u)),n(t(e,a),r)}function i(e,r,s,o,i,a,u){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,s,o),i),u)),n(t(e,a),r)}function a(e){var t,n="",r="";for(t=0;t<=3;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var u,l,c,d,f,g,m,h,V,p;for(u=function(e){for(var t,n=e.length,r=n+8,s=16*((r-r%64)/64+1),o=Array(s-1),i=0,a=0;a<n;)i=a%4*8,o[t=(a-a%4)/4]=o[t]|e.charCodeAt(a)<<i,a++;return i=a%4*8,o[t=(a-a%4)/4]=o[t]|128<<i,o[s-2]=n<<3,o[s-1]=n>>>29,o}(e=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),m=1732584193,h=4023233417,V=2562383102,p=271733878,l=0;l<u.length;l+=16)c=m,d=h,f=V,g=p,m=r(m,h,V,p,u[l+0],7,3614090360),p=r(p,m,h,V,u[l+1],12,3905402710),V=r(V,p,m,h,u[l+2],17,606105819),h=r(h,V,p,m,u[l+3],22,3250441966),m=r(m,h,V,p,u[l+4],7,4118548399),p=r(p,m,h,V,u[l+5],12,1200080426),V=r(V,p,m,h,u[l+6],17,2821735955),h=r(h,V,p,m,u[l+7],22,4249261313),m=r(m,h,V,p,u[l+8],7,1770035416),p=r(p,m,h,V,u[l+9],12,2336552879),V=r(V,p,m,h,u[l+10],17,4294925233),h=r(h,V,p,m,u[l+11],22,2304563134),m=r(m,h,V,p,u[l+12],7,1804603682),p=r(p,m,h,V,u[l+13],12,4254626195),V=r(V,p,m,h,u[l+14],17,2792965006),m=s(m,h=r(h,V,p,m,u[l+15],22,1236535329),V,p,u[l+1],5,4129170786),p=s(p,m,h,V,u[l+6],9,3225465664),V=s(V,p,m,h,u[l+11],14,643717713),h=s(h,V,p,m,u[l+0],20,3921069994),m=s(m,h,V,p,u[l+5],5,3593408605),p=s(p,m,h,V,u[l+10],9,38016083),V=s(V,p,m,h,u[l+15],14,3634488961),h=s(h,V,p,m,u[l+4],20,3889429448),m=s(m,h,V,p,u[l+9],5,568446438),p=s(p,m,h,V,u[l+14],9,3275163606),V=s(V,p,m,h,u[l+3],14,4107603335),h=s(h,V,p,m,u[l+8],20,1163531501),m=s(m,h,V,p,u[l+13],5,2850285829),p=s(p,m,h,V,u[l+2],9,4243563512),V=s(V,p,m,h,u[l+7],14,1735328473),m=o(m,h=s(h,V,p,m,u[l+12],20,2368359562),V,p,u[l+5],4,4294588738),p=o(p,m,h,V,u[l+8],11,2272392833),V=o(V,p,m,h,u[l+11],16,1839030562),h=o(h,V,p,m,u[l+14],23,4259657740),m=o(m,h,V,p,u[l+1],4,2763975236),p=o(p,m,h,V,u[l+4],11,1272893353),V=o(V,p,m,h,u[l+7],16,4139469664),h=o(h,V,p,m,u[l+10],23,3200236656),m=o(m,h,V,p,u[l+13],4,681279174),p=o(p,m,h,V,u[l+0],11,3936430074),V=o(V,p,m,h,u[l+3],16,3572445317),h=o(h,V,p,m,u[l+6],23,76029189),m=o(m,h,V,p,u[l+9],4,3654602809),p=o(p,m,h,V,u[l+12],11,3873151461),V=o(V,p,m,h,u[l+15],16,530742520),m=i(m,h=o(h,V,p,m,u[l+2],23,3299628645),V,p,u[l+0],6,4096336452),p=i(p,m,h,V,u[l+7],10,1126891415),V=i(V,p,m,h,u[l+14],15,2878612391),h=i(h,V,p,m,u[l+5],21,4237533241),m=i(m,h,V,p,u[l+12],6,1700485571),p=i(p,m,h,V,u[l+3],10,2399980690),V=i(V,p,m,h,u[l+10],15,4293915773),h=i(h,V,p,m,u[l+1],21,2240044497),m=i(m,h,V,p,u[l+8],6,1873313359),p=i(p,m,h,V,u[l+15],10,4264355552),V=i(V,p,m,h,u[l+6],15,2734768916),h=i(h,V,p,m,u[l+13],21,1309151649),m=i(m,h,V,p,u[l+4],6,4149444226),p=i(p,m,h,V,u[l+11],10,3174756917),V=i(V,p,m,h,u[l+2],15,718787259),h=i(h,V,p,m,u[l+9],21,3951481745),m=n(m,c),h=n(h,d),V=n(V,f),p=n(p,g);return(a(m)+a(h)+a(V)+a(p)).toLowerCase()},t.blowfish=function(){var e={},t={},n="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function s(e,t,n,r){var s=0,o=e&&e.length||0,i=new(r||Array)(o);if(o&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=cache[t]||buildFn(t)),n)for(;s<o;++s)i[s]=t.call(n,e[s],s,e);else for(;s<o;++s)i[s]=t(e[s],s,e);return i}function o(e,t,n){var r,s,o,i,a="";if("string"!=typeof e||e.length<1||!Array.isArray(t)||!Array.isArray(n)||t.length!=n.length)return e;for(i=e.length,r=0;r<i;r++)s=e.charAt(r),(o=t.indexOf(s))>=0&&(s=n[o]),a+=s;return a}return t.encode=function(e){for(var t=[],s=e.length,o=s%3,i=s-o,a=0;a<i;){var u=e[a++]<<16|e[a++]<<8|e[a++];t.push(r.charAt(u>>>18&63)),t.push(r.charAt(u>>>12&63)),t.push(r.charAt(u>>>6&63)),t.push(r.charAt(63&u))}switch(o){case 2:u=e[a++]<<16|e[a++]<<8;t.push(r.charAt(u>>>18&63)),t.push(r.charAt(u>>>12&63)),t.push(r.charAt(u>>>6&63)),t.push(n);break;case 1:u=e[a++]<<16;t.push(r.charAt(u>>>18&63)),t.push(r.charAt(u>>>12&63)),t.push(n),t.push(n)}return t.join("")},t.decode=function(e){for(var t=e.split(""),s=[],o=t.length;t[--o]==n;);for(var i=0;i<o;){var a=r.indexOf(t[i++])<<18;i<=o&&(a|=r.indexOf(t[i++])<<12),i<=o&&(a|=r.indexOf(t[i++])<<6),i<=o&&(a|=r.indexOf(t[i++])),s.push(a>>>16&255),s.push(a>>>8&255),s.push(255&a)}for(;0==s[s.length-1];)s.pop();return s},e.blowfish=new function(){var e=Math.pow(2,8),n=Math.pow(2,16),r=Math.pow(2,24),i=null,a={p:[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s0:[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],s1:[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],s2:[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],s3:[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]};function u(e,t){return(e>>16^t>>16)<<16|65535&(65535&e^65535&t)}function l(e,t){var n=t.s3[255&e];e>>=8;var r=t.s2[255&e];e>>=8;var s=t.s1[255&e];e>>=8;var o=t.s0[255&e],i=(o>>16)+(s>>16)+((65535&o)+(65535&s)>>16)<<16|(65535&o)+(65535&s)&65535;return((i=(i>>16^r>>16)<<16|65535&(65535&i^65535&r))>>16)+(n>>16)+((65535&i)+(65535&n)>>16)<<16|(65535&i)+(65535&n)&65535}function c(e,t){var n=e.left,r=e.right;n=u(n,t.p[0]),r=u(r,u(l(n,t),t.p[1])),n=u(n,u(l(r,t),t.p[2])),r=u(r,u(l(n,t),t.p[3])),n=u(n,u(l(r,t),t.p[4])),r=u(r,u(l(n,t),t.p[5])),n=u(n,u(l(r,t),t.p[6])),r=u(r,u(l(n,t),t.p[7])),n=u(n,u(l(r,t),t.p[8])),r=u(r,u(l(n,t),t.p[9])),n=u(n,u(l(r,t),t.p[10])),r=u(r,u(l(n,t),t.p[11])),n=u(n,u(l(r,t),t.p[12])),r=u(r,u(l(n,t),t.p[13])),n=u(n,u(l(r,t),t.p[14])),r=u(r,u(l(n,t),t.p[15])),n=u(n,u(l(r,t),t.p[16])),e.right=n,e.left=u(r,t.p[17])}function d(e,t){var n=e.left,r=e.right;n=u(n,t.p[17]),r=u(r,u(l(n,t),t.p[16])),n=u(n,u(l(r,t),t.p[15])),r=u(r,u(l(n,t),t.p[14])),n=u(n,u(l(r,t),t.p[13])),r=u(r,u(l(n,t),t.p[12])),n=u(n,u(l(r,t),t.p[11])),r=u(r,u(l(n,t),t.p[10])),n=u(n,u(l(r,t),t.p[9])),r=u(r,u(l(n,t),t.p[8])),n=u(n,u(l(r,t),t.p[7])),r=u(r,u(l(n,t),t.p[6])),n=u(n,u(l(r,t),t.p[5])),r=u(r,u(l(n,t),t.p[4])),n=u(n,u(l(r,t),t.p[3])),r=u(r,u(l(n,t),t.p[2])),n=u(n,u(l(r,t),t.p[1])),e.right=n,e.left=u(r,t.p[0])}function f(t){var n,r,o,i=t,u=0,l=0,d={left:0,right:0},f={p:s(a.p.slice(0),(function(t){var n,r=i.length;for(n=0;n<4;n++)l=l*e|i[u++%r];return(t>>16^l>>16)<<16|65535&(65535&t^65535&l)})),s0:a.s0.slice(0),s1:a.s1.slice(0),s2:a.s2.slice(0),s3:a.s3.slice(0)};for(n=0,o=f.p.length;n<o;)c(d,f),f.p[n++]=d.left,f.p[n++]=d.right;for(n=0;n<4;n++)for(r=0,o=f["s"+n].length;r<o;)c(d,f),f["s"+n][r++]=d.left,f["s"+n][r++]=d.right;return f}this.hexStringToByteArray=function(e){e.length%2==1&&(e+="0");for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},this.getIV=function(){return t.encode(i)},this.setIV=function(s){var o=t.decode(s);(i={}).left=o[0]*r|o[1]*n|o[2]*e|o[3],i.right=o[4]*r|o[5]*n|o[6]*e|o[7]},this.encryptString=function(s,i){for(var a=f(this.hexStringToByteArray(i)),u=8-(7&s.length),l=0;l<u;l++)s+=String.fromCharCode(u);var d=[],g=s.length>>3,m=0,h={};for(l=0;l<g;l++)h.left=s.charCodeAt(m)*r|s.charCodeAt(m+1)*n|s.charCodeAt(m+2)*e|s.charCodeAt(m+3),h.right=s.charCodeAt(m+4)*r|s.charCodeAt(m+5)*n|s.charCodeAt(m+6)*e|s.charCodeAt(m+7),c(h,a),d.push(h.left>>24&255),d.push(h.left>>16&255),d.push(h.left>>8&255),d.push(255&h.left),d.push(h.right>>24&255),d.push(h.right>>16&255),d.push(h.right>>8&255),d.push(255&h.right),m+=8;return o(t.encode(d),["+","/","="],["-","_","~"])},this.decryptString=function(i,a){for(var u=f(this.hexStringToByteArray(a)),l=[],c=t.decode(o(i,["-","_","~"],["+","/","="])),g=c.length>>3,m=0,h={},V=0;V<g;V++)h.left=c[m]*r|c[m+1]*n|c[m+2]*e|c[m+3],h.right=c[m+4]*r|c[m+5]*n|c[m+6]*e|c[m+7],d(h,u),l.push(h.left>>24&255),l.push(h.left>>16&255),l.push(h.left>>8&255),l.push(255&h.left),l.push(h.right>>24&255),l.push(h.right>>16&255),l.push(h.right>>8&255),l.push(255&h.right),m+=8;if(l[l.length-1]==l[l.length-2]||1==l[l.length-1]){var p=l[l.length-1];l.splice(l.length-p,p)}return s(l,(function(e){return String.fromCharCode(e)})).join("")},this.setIV("0000000000000000")},e.blowfish}(),t.getGravatarURL=function(e,n){n=n||80;return"https://www.gravatar.com/avatar/"+t.md5(e)+".jpg?s="+n},"function"==typeof define&&define.amd)define((function(){return t}));else if("object"==typeof exports)module.exports=t;else{var o=e.commonUtilities;t.existingUtilityFunctions=function(){return e.commonUtilities=o,this},e.commonUtilities=t}}(this);"use strict";var ShareHelper={networks:null,serverResponse:"",success:!1,errorMessage:"",responseInfo:"",callBackWhenComplete:null,enginesisSession:null,facebookSDKVersion:"v6.0",initialize:function(e,t,n,r){var s,o,i;if(this.enginesisSession=e,this.networks=[{id:"email",init:this.initializeEmail.bind(this),share:this.ShareByEmail.bind(this)},{id:"facebook",init:this.initializeFacebook.bind(this),share:this.FacebookFeed.bind(this)},{id:"twitter",init:this.initializeTwitter.bind(this),share:this.TwitterStatus.bind(this)},{id:"googleplus",init:this.initializeGooglePlus.bind(this),share:this.GoogleFeed.bind(this)}],null!=t)if((s=Object.prototype.toString.call(t)).indexOf("String")>=0)o=t,this.initializeNetwork(o,n,r);else if(s.indexOf("Number")>=0)(t>this.networks.length||t<0)&&(t=this.networks.length-1),o=this.networks[t],this.initializeNetwork(o,n,r);else if(t.length>0)for(i=0;i<t.length;i++)o=t[i],this.initializeNetwork(o,n,r)},share:function(e,t,n){var r,s;for(r=0;r<this.networks.length;r++)(s=this.networks[r]).id==e&&s.share(t,n)},initializeNetwork:function(e,t,n){var r,s;for(r=0;r<this.networks.length;r++)(s=this.networks[r]).id==e&&s.init(t,n)},initializeNetworks:function(e,t,n){var r,s,o,i;for(s=0;s<e.length;s++)for(o=e[s],r=0;r<this.networks.length;r++)(i=this.networks[r]).id==o&&i.init(t,n)},initializeFacebook:function(e,t){null==window.FB||null==window.FB.ui?(window.fbAsyncInit=function(){window.FB.init({appId:e.facebookAppId,xfbml:!0,cookie:!0,version:facebookSDKVersion}),null!=t&&"function"==typeof t&&t("facebook")},function(e,t){var n,r;document.getElementById(e)||(r=document.getElementsByTagName(t)[0],(n=document.createElement(t)).id=e,n.async=!0,n.src="https://connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r))}("facebook-jssdk","script")):null!=t&&t("facebook")},initializeTwitter:function(e,t){var n,r,s="twitter-jswidgets",o=document.getElementsByTagName("script")[0],i=this.onTweetComplete;null==window.twttr&&null==document.getElementById(s)?(window.twttr=((r=document.createElement("script")).id=s,r.src="//platform.twitter.com/widgets.js",o.parentNode.insertBefore(r,o),window.twttr||(n={_e:[],ready:function(e){n._e.push(e)}})),window.twttr.ready((function(e){e.events.bind("tweet",i),null!=t&&t("twitter")}))):null!=t&&t("twitter")},onTweetComplete:function(e){this.enginesisSession.debugLog("ShareHelper:onTweetComplete event="+e)},initializeGooglePlus:function(e,t){var n,r=document.createElement("script");this.callBackWhenComplete=t,r.type="text/javascript",r.async=!0,r.src="https://apis.google.com/js/client:plusone.js?onload=onGooglePlusLoaded",(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(r,n)},onGooglePlusLoaded:function(e){null!=this.callBackWhenComplete&&this.callBackWhenComplete("googleplus")},initializeEmail:function(e,t){null!=t&&t("email")},FacebookFeed:function(e,t){null!=FB&&null!=FB.ui&&FB.ui({method:"feed",name:e.title,caption:e.caption,description:this.description,link:e.link,picture:e.picture},(function(e){e&&e.post_id?(this.responseInfo="Post was published.",this.success=!0):(this.errorMessage="Post was not published.",this.success=!1)})),null!=t&&t("facebook")},TwitterStatus:function(e,t){var n,r,s,o,i,a;s=null==e.shortDescription?null==e.description?"Status update":e.description:e.shortDescription,o=null==e.socialHashTags?"":e.socialHashTags,i=null==e.viaId?"":e.viaId,a=null==e.link?"":e.link,r=116-o.length-i.length,s.length>r&&(s=s.substr(0,r)),n="https://twitter.com/intent/tweet?text="+encodeURIComponent(s),a.length>0&&(n+="&url="+encodeURIComponent(a)),i.length>0&&(n+="&via="+encodeURIComponent(this.replaceChar(i,"@"))),o.length>0&&(n+="&hashtags="+encodeURIComponent(this.replaceChar(o,"#"))),window.open(n,"shareWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=yes,width=300,height=250"),null!=t&&t("twitter")},ShareByEmail:function(e,t){var n;n=null!=e.referrer?e.referrer:"enginesis.com",this.enginesisSession.gameDataCreate(n,e.fromEmail,e.fromName,e.toEmail,"",e.message,"","","",!1,0,(function(e){null!=e&&null!=e.fn&&e.fn,null!=t&&t("email")}))},replaceChar:function(e,t){var n=e.indexOf(t);return n>0?e.substr(0,n)+e.substr(n+1):0==n?e.substr(1):e}};!function(e){var t={VERSION:"2.6.7",debugging:!0,disabled:!1,isOnline:!0,isPaused:!1,errorLevel:15,useHTTPS:!1,serverStage:null,serverHost:null,siteResources:{serviceURL:null,avatarImageURL:null,assetUploadURL:null},siteId:0,gameId:0,gameKey:"",gameGroupId:0,languageCode:"en",internalStateSeq:0,lastError:"",lastErrorMessage:"",callBackFunction:null,authToken:null,authTokenWasValidated:!1,authTokenExpires:null,refreshToken:null,refreshTokenExpires:null,sessionId:null,sessionExpires:null,developerKey:null,loggedInUserInfo:{},networkId:1,platform:"",locale:"en-US",isNativeBuild:!1,isBrowserBuild:void 0!==e.window&&void 0!==e.window.document&&void 0!==e.window.location,isNodeBuild:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,isTouchDeviceFlag:!1,SESSION_COOKIE:"engsession",SESSION_USERINFO:"engsession_user",refreshTokenStorageKey:"engrefreshtoken",captchaId:"99999",captchaResponse:"DEADMAN",anonymousUserKey:"enginesisAnonymousUser",anonymousUser:null,serviceQueue:[],serviceQueueSaveKey:"enginesisServiceQueue",serviceQueueRestored:0,assetUploadQueue:null,nodeRequest:null,gameInfo:null,favoriteGames:new Set,favoriteGamesNextCheck:0,supportedNetworks:{Enginesis:1,Facebook:2,Google:7,Twitter:11,Apple:14}};function n(e,n){t.debugging&&(null==n&&(n=15),(t.errorLevel&n)>0&&console.log(e),9==n&&alert(e))}function r(){return t.siteId>0&&t.developerKey.length>0&&t.siteResources.serviceURL.length>0}function s(e){return null==e||!1===e||"string"==typeof e&&(""===e||"undefined"===e)||e instanceof Array&&0==e.length||"number"==typeof e&&(isNaN(e)||0===e)}function o(e){return null==e}function i(e){return"string"==typeof e?"1"===(e=e.toLowerCase())||"true"===e||"t"===e||"checked"===e||"yes"===e||"y"===e:!0===e||1===e}function a(){var e,t=arguments.length;if(0==t)e=null;else if(1==t)e=arguments[0];else{for(var n=0;n<t;n++)if(!s(arguments[n])){e=arguments[n];break}void 0===e&&(e=arguments[t-1])}return e}function u(){var e,t=arguments.length;if(0==t)e=null;else if(1==t)e=arguments[0];else{for(var n=0;n<t;n++)if(!o(arguments[n])){e=arguments[n];break}void 0===e&&(e=arguments[t-1])}return e}function l(t,n){null!=t&&null!=n&&void 0!==e.localStorage&&(e.localStorage[t]=JSON.stringify(n))}function c(t){null!=t&&void 0!==e.localStorage&&e.localStorage.removeItem(t)}function d(t){var n,r=null;return null!=t&&void 0!==e.localStorage&&null!=(n=e.localStorage[t])&&(r=JSON.parse(n)),r}function f(e){return e&&e.results&&e.results.status&&"1"==e.results.status.success}function g(e){return e&&e.results&&e.results.status?e.results.status.message:"INVALID_PARAMETER"}function m(e,t,n){return{results:[],status:{success:0,message:e,extended_info:t},passthru:n}}function h(e,r,s){var o;b(e);try{o=JSON.parse(r)}catch(e){o=q(null,0,"SERVICE_ERROR","Error: "+e.message+"; "+r.toString(),null),n("Enginesis requestComplete exception "+JSON.stringify(o))}o.fn=o.results.passthru.fn,"function"==typeof s?s(o):"function"==typeof t.callBackFunction&&t.callBackFunction(o)}function V(e){var r=!1,s=e.cr||"",o="",i=t.loggedInUserInfo;return s&&((r=s==(o=R({siteId:t.siteId,gameId:t.gameId,userId:a(i.user_id,0),userName:a(i.user_name,""),siteUserId:a(i.site_user_id,""),accessLevel:a(i.access_level,0),siteKey:t.developerKey})))||(i.dayStamp=w(),(r=s==(o=R({siteId:t.siteId,gameId:t.gameId,userId:0,userName:"",siteUserId:"",accessLevel:10,siteKey:t.developerKey})))&&(n("sessionVerifyGameHash Session expired but we think we can refresh it."),t.sessionRefresh(Z(),null).then((function(e){n("sessionVerifyGameHash users authentication has been refreshed. "+e.toString())}),(function(e){n("sessionVerifyGameHash refresh error "+e.toString())})).catch((function(e){n("sessionVerifyGameHash refresh exception "+e.toString())}))))),r||n("sessionVerifyGameHash hash does not match. From server: "+s+". Computed here: "+o),!0}function p(e){var t=!1;if(e&&e.results&&e.results.result){var r=e.results.result[0];n(">>>>> enginesis.refreshSessionInfo new session id "+r.session_id+" new CR "+r.cr),k(r.cr,r)||(n("refreshSessionInfo hash does not match. From server: "+r.cr+". Computed here: "+U()),t=!1),t=W(r,!1)}else{var s=g(e);"INVALID_PARAMETER"!=s&&"INVALID_TOKEN"!=s||Q()}return t}function A(e){e.results.result.row?t.gameInfo=e.results.result.row:t.gameInfo=e.results.result[0],i(t.gameInfo.is_favorite)&&t.favoriteGames.add(parseInt(t.gameInfo.game_id,10))}function v(e){var n=e.results.result;t.favoriteGames.clear();for(var r=0;r<n.length;r++)t.favoriteGames.add(parseInt(n[r].game_id,10))}function I(e){var n=e.results.result[0];V(n)&&(A(e),n.authToken||n.authtok?W(n,!0):(t.sessionId=n.session_id,t.sessionExpires=Date.now()+864e5,n.site_mark&&n.site_mark!=t.anonymousUser.userId&&(t.anonymousUser.userId=n.site_mark,ee())),i(n.tokenExpired)&&!s(t.refreshToken)&&t.sessionRefresh(t.refreshToken,null)),t.siteResources.baseURL=n.siteBaseUrl||"",t.siteResources.profileURL=n.profileUrl||"",t.siteResources.loginURL=n.loginUrl||"",t.siteResources.registerURL=n.registerUrl||"",t.siteResources.forgotPasswordURL=n.forgotPasswordUrl||"",t.siteResources.playURL=n.playUrl||"",t.siteResources.privacyURL=n.privacyUrl||"",t.siteResources.termsURL=n.termsUrl||""}function y(){t.loggedInUserInfo={},t.networkId=1,t.sessionId=null,t.sessionExpires=null,t.authToken=null,t.authTokenWasValidated=!1,t.authTokenExpires=null,t.refreshToken=null,t.refreshTokenExpires=null}function _(e){var r=!1;if(e&&e.results&&e.results.result){var s=e.results.result[0];k(s.cr,s)||n("updateLoggedInUserInfo hash does not match. From server: "+s.cr+". Computed here: "+U(s)),Y(s.refresh_token),t.loggedInUserInfo=s,t.networkId=s.network_id,r=W(s,!1)}return r}function S(e){e&&e.results&&e.results.result&&(y(),Q())}function w(){return Math.floor(Date.now()/1728e5)}function U(e){e=e||{};var r=t.loggedInUserInfo||{},s=t.siteId,o=a(e.userId,e.user_id,r.user_id,0),i=a(e.userName,e.user_name,r.user_name,""),u=a(e.accessLevel,e.access_level,r.access_level,10),l=a(e.siteUserId,e.site_user_id,r.site_user_id,""),c="s="+s+"&u="+o+"&d="+(e.dayStamp||w())+"&n="+i+"&i="+l+"&l="+u+"&k="+t.developerKey,d=t.md5(c);return n("sessionMakeHash from "+c+" yields "+d),d}function R(e){e=e||{};var r=t.loggedInUserInfo||{},s=t.siteId,i=u(e.userId,e.user_id,r.user_id,0),a=u(e.userName,e.user_name,r.user_name,""),l=u(e.accessLevel,e.access_level,r.access_level,10),c=u(e.siteUserId,e.site_user_id,r.site_user_id,""),d=e.gameId||t.gameId,f=e.dayStamp||w(),g=0;0==i&&o(e.siteMark)&&t.anonymousUser&&(g=t.anonymousUser.userId);var m="s="+s+"&u="+i+"&d="+f+"&n="+a+"&g="+d+"&i="+c+"&l="+l+"&m="+g+"&k="+t.developerKey,h=t.md5(m);return n("sessionMakeGameHash from "+m+" yields "+h),h}function k(e,t){return e==U(t)}function E(e,t,n,r){!function(e){var t=e.fn;if(f(e)&&t){var n={SessionBegin:I,SessionRefresh:p,UserLogin:_,UserLogout:S,GameGet:A,UserFavoriteGamesList:v,UserFavoriteGamesAssign:v,UserFavoriteGamesAssignList:v,UserFavoriteGamesUnassign:v,UserFavoriteGamesUnassignList:v}[t];o(n)||n(e)}}(e),null!=n?n(e):null!=r&&r(e),null!=t&&t(e)}function b(e){var n=0,r=t.serviceQueue;return null!=r&&r.length>0&&(r=r.filter((function(t){var r=t.state_seq==e;return r&&(t.state_status=2,n++),!r})),t.serviceQueue=r),t.serviceQueueRestored>0&&n>0&&(t.serviceQueueRestored-=n,C()),n}function C(){return l(t.serviceQueueSaveKey,t.serviceQueue),!0}function T(){var e=d(t.serviceQueueSaveKey);return null==e?(e=[],t.serviceQueueRestored=0):(l(t.serviceQueueSaveKey,[]),t.serviceQueueRestored=t.serviceQueue.length),t.serviceQueue=e,function(){var e,n=t.serviceQueue;if(null!=n&&n.length>0)for(e=0;e<n.length;e++)n[e].state_status=0}(),t.serviceQueueRestored>0}function L(){var e={Accept:"application/json","X-DeveloperKey":t.developerKey};return t.authTokenWasValidated&&(e.Authentication="Bearer "+t.authToken),e}function N(r,s){if(t.isOnline&&t.serviceQueue.length>0){var o=function(){var e,n,r=t.serviceQueue,s=null;for(n=0;n<r.length;n++)if(void 0===(e=r[n]).state_status||0==e.state_status){e.state_status=1,s=e;break}return s}();if(null!=o){var i,a=o.fn,u=o.overRideCallBackFunction;"function"==typeof e.fetch?fetch(t.siteResources.serviceURL,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:L(),body:B(o)}).then((function(e){if(b(o.state_seq),200==e.status)e.json().then((function(s){var i;if(null==s){var l=e.text();n("Enginesis service error for "+a+": "+l),i="Enginesis service while contacting Enginesis at "+t.serverHost+" for "+a,s=q(a,o.state_seq,"SERVICE_ERROR",i)}else s.fn=a;E(s,r,u,t.callBackFunction)})).catch((function(e){var s="Invalid response from Enginesis at "+t.serverHost+" for "+a+": "+e.toString(),i=q(a,o.state_seq,"SERVICE_ERROR",s);n(s),E(i,r,u,t.callBackFunction)}));else{var s="Network error "+e.status+" while contacting Enginesis at "+t.serverHost+" for "+a,i=q(a,o.state_seq,"SERVICE_ERROR",s);n(s),E(i,r,u,t.callBackFunction)}}),(function(e){n(i=P()?"Enginesis Network error encountered, assuming we're offline. "+t.serverHost+" for "+a+": "+e.toString():"Enginesis is already offline, leaving this message on the queue."),E(q(a,o.state_seq,"OFFLINE",i),r,u,t.callBackFunction)})).catch((function(e){n(i=P()?"Enginesis Network error encountered, assuming we're offline. "+t.serverHost+" for "+a+": "+e.toString():"Enginesis is already offline, leaving this message on the queue."),E(q(a,o.state_seq,"OFFLINE",i),r,u,t.callBackFunction)})):t.isNodeBuild?function(e,r,s){if(null==t.nodeRequest&&(t.nodeRequest=require("request"),null==t.nodeRequest))throw new Error("request() is not defined in the node.js environment");t.nodeRequest.post({method:"POST",url:t.siteResources.serviceURL,headers:L(),formData:B(r)},(function(o,i,a){if(null!=o){var u="Error posting to "+t.siteResources.serviceURL+": "+o.toString();n(u=P()?"Enginesis network error encountered, assuming we're offline. "+t.siteResources.serviceURL+" for "+e+": "+o.toString():"Enginesis is already offline, leaving this message on the queue."),h(r.state_seq,F(e,r.state_seq,"OFFLINE",u),s)}else h(r.state_seq,a,s)}))}(a,o,(function(e){E(e,r,u,t.callBackFunction)})):function(e,r,s){var o=O(e,r),i=new XMLHttpRequest;i.onload=function(e){h(r.state_seq,this.responseText,s)},i.onerror=function(o){var a="CORS request error "+i.status+" "+o.toString();n(a=P()?"Enginesis Network error encountered, assuming we're offline. "+t.serverHost+" for "+e+": "+o.toString():"Enginesis is already offline, leaving this message on the queue."),h(r.state_seq,F(e,r.state_seq,"OFFLINE",a),s)},i.open("POST",t.siteResources.serviceURL,!0),i.overrideMimeType("application/json"),i.send(B(o))}(a,o,(function(e){E(e,r,u,t.callBackFunction)}))}else null!=s&&s(new Error("Queue is empty"))}else null!=s&&s(new Error("Offline or queue is empty"))}function x(e,s,o){return new Promise((function(i,a){if(!t.disabled&&r()){var u=O(e,s);if(u.overRideCallBackFunction=o,t.serviceQueue.push(u),t.isOnline)N(i,a);else{var l="Enginesis is offline. Message "+e+" will be processed when network connectivity is restored.",c=q(e,0,"OFFLINE",l);C(),n(l),E(c,i,o,t.callBackFunction)}}else{E(c=t.disabled?q(e,0,"DISABLED","Enginesis is disabled."):q(e,0,"VALIDATION_FAILED","Enginesis internal state failed validation."),i,o,t.callBackFunction)}}))}function G(e,n,r,s,o){return new Promise((function(n){E(q(e,0,r,s),n,o,t.callBackFunction)}))}function O(e,n){t.internalStateSeq+=1;var r={fn:e,language_code:t.languageCode,site_id:t.siteId,state_seq:t.internalStateSeq,state_status:0,response:"json"};if(t.loggedInUserInfo&&t.authTokenWasValidated&&0!=Math.floor(t.loggedInUserInfo.user_id)&&(r.authtok=t.authToken,"SessionRefresh"==e&&(r.logged_in_user_id=t.loggedInUserInfo.user_id)),t.gameId&&(r.game_id=t.gameId),null!=n)for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s]);return r}function F(e,t,n,r){return JSON.stringify(q(e,t,n,r))}function q(e,t,n,r,s){return null!=e&&""!=e||(e="unknown"),void 0!==t&&null!=t||(t=0),void 0!==s&&null!=s||(s={}),void 0!==s.fn&&null!=s.fn||(s.fn=e),void 0!==s.state_seq&&null!=s.state_seq||(s.state_seq=t),{fn:e,results:{status:{success:"0",message:n,extended_info:r,passthru:s}}}}function B(e){var n,r;for(n in r=t.isBrowserBuild?new FormData:{},e)e.hasOwnProperty(n)&&"function"!=typeof e[n]&&"overRideCallBackFunction"!=n&&(t.isBrowserBuild?r.append(n,e[n]):r[n]=e[n]);return r}function P(){var e;return t.isOnline?(C(),e=!0):e=!1,t.isOnline=!1,e}function D(){var e=!t.isOnline;function n(r){t.isOnline&&t.serviceQueue.length>0?(e&&(e=!1),N((function(){n(r)}),(function(){n(r)}))):r()}return t.isOnline=!0,T(),new Promise((function(e){n(e)}))}function M(){return t.useHTTPS?"https://":"http://"}function K(n){var r,s=t.isBrowserBuild?e.location.host:"",o=!1;switch(t.serverHost=null,null==n&&(n="*"),n){case"":case"-l":case"-d":case"-q":case"-x":t.serverStage=n;break;case"*":"localhost"==s.substr(0,9)?(n="-l",o=!0):n=null!=(r=/-[ldqx]\./.exec(s))&&r.index>0?s.substr(r.index,2):"",t.serverStage=n;break;default:null!=(r=/-[ldqx]\./.exec(n))&&r.index>0?t.serverStage=n.substr(r.index,2):t.serverStage="",t.serverHost=n}if(null===t.serverHost){var i,a="enginesis",u=s.split("."),l=u.length;l>1?(i=u[l-2].replace(/-[ldqx]$/,""),t.serverHost=i!=a?a+".":"",t.serverHost+=i+t.serverStage+"."+u[l-1]):t.serverHost=o?"enginesis-l.com":s}return t.siteResources.serviceURL=M()+t.serverHost+"/index.php",t.siteResources.avatarImageURL=M()+t.serverHost+"/avatar/index.php",t.siteResources.assetUploadURL=M()+t.serverHost+"/procs/asset.php",t.serverStage}function j(n){var r,s=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(/\+/g," "))},i={};for(!n&&t.isBrowserBuild&&(n=e.location.search.substring(1));r=s.exec(n);)i[o(r[1])]=o(r[2]);return i}function z(t){return void 0!==e.document&&t?decodeURIComponent(e.document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:""}function H(t,n,r,s,o,i){var a="",u="; expires=Fri, 31 Dec 9999 23:59:59 GMT";if(void 0===e.document)return!1;if(void 0===i&&(i=!0),!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;if(null===n)e.document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(o?"; domain="+o:"")+(s?"; path="+s:"");else{if("object"==typeof n&&(n=JSON.stringify(n)),r)switch(r.constructor){case Number:a=r===1/0?u:"; max-age="+r;break;case String:a="; expires="+r;break;case Date:a="; expires="+r.toUTCString();break;default:a=u}else a=u;e.document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(n)+a+(o?"; SameSite=Strict; domain="+o:"")+(s?"; path="+s:"")+(i?"; Secure":"")}return!0}function Q(){c(t.SESSION_USERINFO),c(t.refreshTokenStorageKey),H(t.SESSION_USERINFO,null,0,"/","",!1),y()}function W(e,r){var s;if(e){var o;if(!(s=r?V(e):k(e.cr,t.loggedInUserInfo)))o=r?R(t.loggedInUserInfo):U(t.loggedInUserInfo),n("Possible payload compromise: provided hash "+e.cr+" does not match computer here "+o),s=!1;s=!0,t.sessionId=e.session_id,t.sessionExpires=Date.now()+864e5,t.authToken=e.authToken||e.authtok,t.loggedInUserInfo.authToken=t.authToken,t.loggedInUserInfo.authTokenExpires=e.expires,t.authTokenWasValidated=!0,e.refresh_token&&(t.refreshToken=e.refresh_token,t.refreshTokenExpires=new Date(e.expires)),l(t.SESSION_USERINFO,t.loggedInUserInfo),n("enginesis.saveUserSessionInfo session id is "+t.sessionId+" session.cr= "+e.cr)}else s=!1;return s}function J(){var e,r=d(t.SESSION_USERINFO);if(null==r&&null!=(r=z(t.SESSION_USERINFO)))try{r=JSON.parse(r)}catch(e){r=null,Q()}return null!=r?((e=U({siteId:t.siteId,userId:r.userId,userName:r.userName,siteUserId:r.siteUserId||"",accessLevel:r.accessLevel,siteKey:t.developerKey}))!=r.cr&&n("restoreUserSessionInfo hash does not match. From server: "+r.cr+". Computed here: "+e),t.loggedInUserInfo=r,t.networkId=r.networkId,t.sessionId=r.sessionId,t.sessionExpires=new Date(r.sessionExpires),t.authToken=r.authToken,t.authTokenExpires=new Date(r.authTokenExpires),t.authTokenWasValidated=!0,t.refreshToken=r.refreshToken,t.refreshTokenExpires=null,n("enginesis.restoreUserSessionInfo "+t.sessionId+" from "+JSON.stringify(r))):t.isUserLoggedIn()?n("enginesis.restoreUserSessionInfo we think the user is logged in but wasn't cached"):n("enginesis.restoreUserSessionInfo no prior user"),!1}function Y(e){if(!s(e)){var n={refreshToken:e,timestamp:(new Date).getTime()};l(t.refreshTokenStorageKey,n)}}function Z(){var e=t.refreshToken;return s(e)?(J(),s(e=t.refreshToken)?null:e):e}function $(){return{dateCreated:new Date,dateLastVisit:new Date,subscriberEmail:"",userId:0,userName:"",favoriteGames:new Set,gamesPlayed:new Set,cr:""}}function X(){null==t.anonymousUser&&(t.anonymousUser=d(t.anonymousUserKey),null==t.anonymousUser?t.anonymousUser=$():((t.anonymousUser.cr||"")!=te()&&(t.anonymousUser=$()),Array.isArray(t.anonymousUser.favoriteGames)&&(t.anonymousUser.favoriteGames=new Set(t.anonymousUser.favoriteGames)),Array.isArray(t.anonymousUser.gamesPlayed)&&(t.anonymousUser.gamesPlayed=new Set(t.anonymousUser.gamesPlayed))));return t.anonymousUser}function ee(){if(null!=t.anonymousUser){var e=t.anonymousUser;e.favoriteGames=Array.from(e.favoriteGames),e.gamesPlayed=Array.from(e.gamesPlayed),e.cr=te(),l(t.anonymousUserKey,e),e.favoriteGames=new Set(e.favoriteGames),e.gamesPlayed=new Set(e.gamesPlayed)}}function te(){var e=t.anonymousUser;return t.md5(e.subscriberEmail+e.userId+e.userName+t.developerKey)}function ne(e,n){return new Promise((function(r,s){var o={site_id:t.siteId,game_id:t.gameId,action:"upload",target:e.target,file:e.fileName,size:e.fileSize,token:e.token,id:e.uploadId,image:n},i={method:"POST",mode:"cors",credentials:"same-origin",cache:"default",headers:L(),body:B(o)};fetch(t.siteResources.assetUploadURL,i).then((function(e){var t="",n="";if(e&&e.ok){var i=e.headers.get("content-type");i&&i.includes("application/json")?e.json().then((function(e){null!=e?e.status&&"1"==e.status.success?r(e):(t=e.status.message,n=e.status.extended_info):(t="SERVICE_ERROR",n="There was a service error during the upload operation. The support team has been notified."),""!=t&&s(m(t,n,o))})).catch((function(e){t="SERVICE_ERROR",n=e.toString(),s(m(t,n,o))})):(t="SERVICE_ERROR",n="Unexpected response received from service when requesting upload token.")}else t="SERVICE_ERROR",n="Error received from service when requesting upload token.";""!=t&&s(m(t,n,o))}),(function(e){errorMessage="Network error from service when requesting token. "+e.toString(),s(m("SERVICE_ERROR",errorMessage,o))})).catch((function(e){errorMessage="Unexpected response received from service when requesting token with "+e.toString()+".",s(m("SERVICE_ERROR",errorMessage,o))}))}))}if(t.init=function(o){var i,a=null;return y(),o&&(t.siteId=void 0!==o.siteId?o.siteId:0,t.gameId=void 0!==o.gameId?o.gameId:0,t.gameKey=void 0!==o.gameKey?o.gameKey:"",t.gameGroupId=void 0!==o.gameGroupId?o.gameGroupId:0,t.languageCode=function(e){s(e)?e="en":e.length>2&&(e=e.substr(0,2));return e}(o.languageCode),t.serverStage=void 0!==o.serverStage?o.serverStage:"*",t.developerKey=void 0!==o.developerKey?o.developerKey:"",t.callBackFunction=void 0!==o.callBackFunction?o.callBackFunction:null,a=void 0!==o.authToken?o.authToken:null),t.isBrowserBuild?(t.platform=navigator.platform,t.locale=navigator.language,t.isNativeBuild="file:"==e.location.protocol,t.isTouchDeviceFlag=(i=!1,t.isBrowserBuild&&("ontouchstart"in window||e.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0),i)):(t.platform="nodejs",t.locale="en",t.isNativeBuild=!0,t.isTouchDeviceFlag=!1),t.isBrowserBuild?t.useHTTPS="https:"==e.location.protocol:t.useHTTPS=!1,K(t.serverStage),function(e){(function(e){var r,o=!1,i=null;s(e)?(n("restoreUserFromAuthToken from cookie: "+(e=z(t.SESSION_COOKIE))),s(e)&&(void 0!==(r=j()).authtok&&n("restoreUserFromAuthToken from query: "+(e=r.authtok)),s(e)&&null!=(i=d(t.SESSION_USERINFO))&&i.authToken&&n("restoreUserFromAuthToken from prior session: "+(e=i.authToken)))):n("restoreUserFromAuthToken from parameter: "+e);s(e)?n("restoreUserFromAuthToken no token to authorize."):(null==i&&(n("restoreUserFromAuthToken user info from session cookie: "+(i=JSON.parse(z(t.SESSION_USERINFO)))),null==i&&n("restoreUserFromAuthToken user info from local storage: "+(i=d(t.SESSION_USERINFO)))),null!=i?(t.authToken=e,t.authTokenExpires=null,t.authTokenWasValidated=!0,t.loggedInUserInfo=i,t.networkId=Math.floor(i.network_id),o=!0,n("restoreUserFromAuthToken valid user: "+t.loggedInUserInfo.user_name+"("+t.loggedInUserInfo.user_id+")")):n("restoreUserFromAuthToken valid token but no cached user "+e));return o})(e)||J();t.isUserLoggedIn()||X()}(a),T()&&e.setTimeout(D,500),r()},t.md5=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,s,o,i;return s=2147483648&e,o=2147483648&t,i=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^i^s^o:n|r?1073741824&i?3221225472^i^s^o:1073741824^i^s^o:i^s^o}function r(e,r,s,o,i,a,u){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,s,o),i),u)),n(t(e,a),r)}function s(e,r,s,o,i,a,u){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,s,o),i),u)),n(t(e,a),r)}function o(e,r,s,o,i,a,u){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,s,o),i),u)),n(t(e,a),r)}function i(e,r,s,o,i,a,u){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,s,o),i),u)),n(t(e,a),r)}function a(e){var t,n="",r="";for(t=0;t<=3;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var u,l,c,d,f,g,m,h,V,p;for(u=function(e){for(var t,n=e.length,r=n+8,s=16*((r-r%64)/64+1),o=Array(s-1),i=0,a=0;a<n;)i=a%4*8,o[t=(a-a%4)/4]=o[t]|e.charCodeAt(a)<<i,a++;return i=a%4*8,o[t=(a-a%4)/4]=o[t]|128<<i,o[s-2]=n<<3,o[s-1]=n>>>29,o}(e=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),m=1732584193,h=4023233417,V=2562383102,p=271733878,l=0;l<u.length;l+=16)c=m,d=h,f=V,g=p,m=r(m,h,V,p,u[l+0],7,3614090360),p=r(p,m,h,V,u[l+1],12,3905402710),V=r(V,p,m,h,u[l+2],17,606105819),h=r(h,V,p,m,u[l+3],22,3250441966),m=r(m,h,V,p,u[l+4],7,4118548399),p=r(p,m,h,V,u[l+5],12,1200080426),V=r(V,p,m,h,u[l+6],17,2821735955),h=r(h,V,p,m,u[l+7],22,4249261313),m=r(m,h,V,p,u[l+8],7,1770035416),p=r(p,m,h,V,u[l+9],12,2336552879),V=r(V,p,m,h,u[l+10],17,4294925233),h=r(h,V,p,m,u[l+11],22,2304563134),m=r(m,h,V,p,u[l+12],7,1804603682),p=r(p,m,h,V,u[l+13],12,4254626195),V=r(V,p,m,h,u[l+14],17,2792965006),m=s(m,h=r(h,V,p,m,u[l+15],22,1236535329),V,p,u[l+1],5,4129170786),p=s(p,m,h,V,u[l+6],9,3225465664),V=s(V,p,m,h,u[l+11],14,643717713),h=s(h,V,p,m,u[l+0],20,3921069994),m=s(m,h,V,p,u[l+5],5,3593408605),p=s(p,m,h,V,u[l+10],9,38016083),V=s(V,p,m,h,u[l+15],14,3634488961),h=s(h,V,p,m,u[l+4],20,3889429448),m=s(m,h,V,p,u[l+9],5,568446438),p=s(p,m,h,V,u[l+14],9,3275163606),V=s(V,p,m,h,u[l+3],14,4107603335),h=s(h,V,p,m,u[l+8],20,1163531501),m=s(m,h,V,p,u[l+13],5,2850285829),p=s(p,m,h,V,u[l+2],9,4243563512),V=s(V,p,m,h,u[l+7],14,1735328473),m=o(m,h=s(h,V,p,m,u[l+12],20,2368359562),V,p,u[l+5],4,4294588738),p=o(p,m,h,V,u[l+8],11,2272392833),V=o(V,p,m,h,u[l+11],16,1839030562),h=o(h,V,p,m,u[l+14],23,4259657740),m=o(m,h,V,p,u[l+1],4,2763975236),p=o(p,m,h,V,u[l+4],11,1272893353),V=o(V,p,m,h,u[l+7],16,4139469664),h=o(h,V,p,m,u[l+10],23,3200236656),m=o(m,h,V,p,u[l+13],4,681279174),p=o(p,m,h,V,u[l+0],11,3936430074),V=o(V,p,m,h,u[l+3],16,3572445317),h=o(h,V,p,m,u[l+6],23,76029189),m=o(m,h,V,p,u[l+9],4,3654602809),p=o(p,m,h,V,u[l+12],11,3873151461),V=o(V,p,m,h,u[l+15],16,530742520),m=i(m,h=o(h,V,p,m,u[l+2],23,3299628645),V,p,u[l+0],6,4096336452),p=i(p,m,h,V,u[l+7],10,1126891415),V=i(V,p,m,h,u[l+14],15,2878612391),h=i(h,V,p,m,u[l+5],21,4237533241),m=i(m,h,V,p,u[l+12],6,1700485571),p=i(p,m,h,V,u[l+3],10,2399980690),V=i(V,p,m,h,u[l+10],15,4293915773),h=i(h,V,p,m,u[l+1],21,2240044497),m=i(m,h,V,p,u[l+8],6,1873313359),p=i(p,m,h,V,u[l+15],10,4264355552),V=i(V,p,m,h,u[l+6],15,2734768916),h=i(h,V,p,m,u[l+13],21,1309151649),m=i(m,h,V,p,u[l+4],6,4149444226),p=i(p,m,h,V,u[l+11],10,3174756917),V=i(V,p,m,h,u[l+2],15,718787259),h=i(h,V,p,m,u[l+9],21,3951481745),m=n(m,c),h=n(h,d),V=n(V,f),p=n(p,g);return(a(m)+a(h)+a(V)+a(p)).toLowerCase()},t.blowfish=function(){var e={},t={},n="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function s(e,t,n,r){var s=0,o=e&&e.length||0,i=new(r||Array)(o);if(o&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=cache[t]||buildFn(t)),n)for(;s<o;++s)i[s]=t.call(n,e[s],s,e);else for(;s<o;++s)i[s]=t(e[s],s,e);return i}function o(e,t,n){var r,s,o,i,a="";if("string"!=typeof e||e.length<1||!Array.isArray(t)||!Array.isArray(n)||t.length!=n.length)return e;for(i=e.length,r=0;r<i;r++)s=e.charAt(r),(o=t.indexOf(s))>=0&&(s=n[o]),a+=s;return a}return t.encode=function(e){for(var t=[],s=e.length,o=s%3,i=s-o,a=0;a<i;){var u=e[a++]<<16|e[a++]<<8|e[a++];t.push(r.charAt(u>>>18&63)),t.push(r.charAt(u>>>12&63)),t.push(r.charAt(u>>>6&63)),t.push(r.charAt(63&u))}switch(o){case 2:u=e[a++]<<16|e[a++]<<8;t.push(r.charAt(u>>>18&63)),t.push(r.charAt(u>>>12&63)),t.push(r.charAt(u>>>6&63)),t.push(n);break;case 1:u=e[a++]<<16;t.push(r.charAt(u>>>18&63)),t.push(r.charAt(u>>>12&63)),t.push(n),t.push(n)}return t.join("")},t.decode=function(e){for(var t=e.split(""),s=[],o=t.length;t[--o]==n;);for(var i=0;i<o;){var a=r.indexOf(t[i++])<<18;i<=o&&(a|=r.indexOf(t[i++])<<12),i<=o&&(a|=r.indexOf(t[i++])<<6),i<=o&&(a|=r.indexOf(t[i++])),s.push(a>>>16&255),s.push(a>>>8&255),s.push(255&a)}for(;0==s[s.length-1];)s.pop();return s},e.blowfish=new function(){var e=Math.pow(2,8),n=Math.pow(2,16),r=Math.pow(2,24),i=null,a={p:[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s0:[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],s1:[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],s2:[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],s3:[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]};function u(e,t){return(e>>16^t>>16)<<16|65535&(65535&e^65535&t)}function l(e,t){var n=t.s3[255&e];e>>=8;var r=t.s2[255&e];e>>=8;var s=t.s1[255&e];e>>=8;var o=t.s0[255&e],i=(o>>16)+(s>>16)+((65535&o)+(65535&s)>>16)<<16|(65535&o)+(65535&s)&65535;return((i=(i>>16^r>>16)<<16|65535&(65535&i^65535&r))>>16)+(n>>16)+((65535&i)+(65535&n)>>16)<<16|(65535&i)+(65535&n)&65535}function c(e,t){var n=e.left,r=e.right;n=u(n,t.p[0]),r=u(r,u(l(n,t),t.p[1])),n=u(n,u(l(r,t),t.p[2])),r=u(r,u(l(n,t),t.p[3])),n=u(n,u(l(r,t),t.p[4])),r=u(r,u(l(n,t),t.p[5])),n=u(n,u(l(r,t),t.p[6])),r=u(r,u(l(n,t),t.p[7])),n=u(n,u(l(r,t),t.p[8])),r=u(r,u(l(n,t),t.p[9])),n=u(n,u(l(r,t),t.p[10])),r=u(r,u(l(n,t),t.p[11])),n=u(n,u(l(r,t),t.p[12])),r=u(r,u(l(n,t),t.p[13])),n=u(n,u(l(r,t),t.p[14])),r=u(r,u(l(n,t),t.p[15])),n=u(n,u(l(r,t),t.p[16])),e.right=n,e.left=u(r,t.p[17])}function d(e,t){var n=e.left,r=e.right;n=u(n,t.p[17]),r=u(r,u(l(n,t),t.p[16])),n=u(n,u(l(r,t),t.p[15])),r=u(r,u(l(n,t),t.p[14])),n=u(n,u(l(r,t),t.p[13])),r=u(r,u(l(n,t),t.p[12])),n=u(n,u(l(r,t),t.p[11])),r=u(r,u(l(n,t),t.p[10])),n=u(n,u(l(r,t),t.p[9])),r=u(r,u(l(n,t),t.p[8])),n=u(n,u(l(r,t),t.p[7])),r=u(r,u(l(n,t),t.p[6])),n=u(n,u(l(r,t),t.p[5])),r=u(r,u(l(n,t),t.p[4])),n=u(n,u(l(r,t),t.p[3])),r=u(r,u(l(n,t),t.p[2])),n=u(n,u(l(r,t),t.p[1])),e.right=n,e.left=u(r,t.p[0])}function f(t){var n,r,o,i=t,u=0,l=0,d={left:0,right:0},f={p:s(a.p.slice(0),(function(t){var n,r=i.length;for(n=0;n<4;n++)l=l*e|i[u++%r];return(t>>16^l>>16)<<16|65535&(65535&t^65535&l)})),s0:a.s0.slice(0),s1:a.s1.slice(0),s2:a.s2.slice(0),s3:a.s3.slice(0)};for(n=0,o=f.p.length;n<o;)c(d,f),f.p[n++]=d.left,f.p[n++]=d.right;for(n=0;n<4;n++)for(r=0,o=f["s"+n].length;r<o;)c(d,f),f["s"+n][r++]=d.left,f["s"+n][r++]=d.right;return f}this.hexStringToByteArray=function(e){e.length%2==1&&(e+="0");for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},this.getIV=function(){return t.encode(i)},this.setIV=function(s){var o=t.decode(s);(i={}).left=o[0]*r|o[1]*n|o[2]*e|o[3],i.right=o[4]*r|o[5]*n|o[6]*e|o[7]},this.encryptString=function(s,i){for(var a=f(this.hexStringToByteArray(i)),u=8-(7&s.length),l=0;l<u;l++)s+=String.fromCharCode(u);var d=[],g=s.length>>3,m=0,h={};for(l=0;l<g;l++)h.left=s.charCodeAt(m)*r|s.charCodeAt(m+1)*n|s.charCodeAt(m+2)*e|s.charCodeAt(m+3),h.right=s.charCodeAt(m+4)*r|s.charCodeAt(m+5)*n|s.charCodeAt(m+6)*e|s.charCodeAt(m+7),c(h,a),d.push(h.left>>24&255),d.push(h.left>>16&255),d.push(h.left>>8&255),d.push(255&h.left),d.push(h.right>>24&255),d.push(h.right>>16&255),d.push(h.right>>8&255),d.push(255&h.right),m+=8;return o(t.encode(d),["+","/","="],["-","_","~"])},this.decryptString=function(i,a){for(var u=f(this.hexStringToByteArray(a)),l=[],c=t.decode(o(i,["-","_","~"],["+","/","="])),g=c.length>>3,m=0,h={},V=0;V<g;V++)h.left=c[m]*r|c[m+1]*n|c[m+2]*e|c[m+3],h.right=c[m+4]*r|c[m+5]*n|c[m+6]*e|c[m+7],d(h,u),l.push(h.left>>24&255),l.push(h.left>>16&255),l.push(h.left>>8&255),l.push(255&h.left),l.push(h.right>>24&255),l.push(h.right>>16&255),l.push(h.right>>8&255),l.push(255&h.right),m+=8;if(l[l.length-1]==l[l.length-2]||1==l[l.length-1]){var p=l[l.length-1];l.splice(l.length-p,p)}return s(l,(function(e){return String.fromCharCode(e)})).join("")},this.setIV("0000000000000000")},e.blowfish}(),t.request=function(e,t){return"object"==typeof e&&"string"==typeof e.fn&&(e=(t=e).fn),x(e,t,null)},t.versionGet=function(){return t.VERSION},t.isUserLoggedIn=function(){return t.loggedInUserInfo&&Math.floor(t.loggedInUserInfo.user_id)>0&&""!=t.authToken&&t.authTokenWasValidated},t.userIdGet=function(){return t.isUserLoggedIn()?Math.floor(t.loggedInUserInfo.user_id):0},t.isEnginesisResult=function(e){return e&&e.hasOwnProperty("results")&&e.results.hasOwnProperty("status")&&e.results.status.hasOwnProperty("success")},t.getLastError=function(){return{isError:""!=t.lastError,error:t.lastError,description:t.lastErrorMessage}},t.isError=function(e){return!f(e)},t.toError=function(e){var t=null,n=null,r="";return e&&(e.status?n=e.status:e.results&&e.results.status&&(n=e.results.status)),null==n&&(n={message:"INVALID_PARAMETER",extended_info:"Result was not a valid result object."}),r=n.extended_info?n.extended_info:n.message,(t=new Error(r)).code=n.message,t},t.toErrorString=function(e){var t="";return e&&e.results&&e.results.status&&(t+=e.results.status.message,e.results.status.extended_info&&(t+=": "+e.results.status.extended_info)),t},t.error=function(e){return g(e)},t.makeErrorResponse=function(e,t,n,r,s){return q(e,t,n,r,s)},t.resultToString=function(e){return f(e)?e.results.passthru.fn:e.results.status.message+(e.results.status.extended_info?" "+e.results.status.extended_info:"")},t.pause=function(){t.isPaused=!0},t.resume=function(){t.isPaused=!1,t.isUserLoggedIn()&&t.sessionRefreshIfExpired().then((function(e){n("Session was "+(e?"refreshed":"OK"))})).catch((function(e){n("Session sessionRefreshIfExpired exception "+e.toString())}))},t.getLoggedInUserInfo=function(){if(t.isUserLoggedIn()){var e={};for(var n in t.loggedInUserInfo)t.loggedInUserInfo.hasOwnProperty(n)&&(e[n]=t.loggedInUserInfo[n]);return e}return null},t.saveRefreshToken=function(e){Y(e)},t.isTouchDevice=function(){return t.isTouchDeviceFlag},t.queryStringToObject=j,t.isValidUserName=function(e){return e.length>2},t.isValidPassword=function(e){return e.length>7},t.getRefreshToken=function(){return Z()},t.serverStageSet=function(e){return K(e)},t.serverStageGet=function(){return t.serverStage},t.setHTTPS=function(e){return void 0!==e&&(t.useHTTPS=!!e),t.useHTTPS},t.isHTTPS=function(){return t.useHTTPS},t.getProtocol=function(){return M()},t.serverBaseUrlGet=function(){return t.serverHost},t.getSiteSpecificUrls=function(){var e,n=t.siteResources;return null!=n.profileURL&&n.profileURL.length>0?{root:e=M()+n.baseURL,forgotPassword:e+n.forgotPasswordURL,login:e+n.loginURL,play:e+n.playURL,privacy:e+n.privacyURL,profile:e+n.profileURL,register:e+n.registerURL,terms:e+n.termsURL}:{root:e=M()+"varyn"+t.serverStage+".com",forgotPassword:e+"/procs/forgotpass.php",login:e+"/profile/",play:e+"/play/",privacy:e+"/privacy/",profile:e+"/profile/",register:e+"/profile/?action=signup",terms:e+"/tos/"}},t.gameIdGet=function(){return t.gameId},t.gameIdSet=function(e,n){return t.gameId!=e&&(t.gameInfo=null),t.gameKey=n||"",t.gameId=e},t.gameGroupIdGet=function(){return t.gameGroupId},t.gameGroupIdSet=function(e){return t.gameGroupId=e},t.siteIdGet=function(){return t.siteId},t.supportedSSONetworks=function(){return t.supportedNetworks},t.getGameImageURL=function(e){var n=null,r=0,o=0,i=null,a=".jpg";return void 0!==e&&null!=e&&(s(e.game_name)?s(e.gameName)||(n=e.gameName):n=e.game_name,s(e.format)||(i=e.format),void 0!==e.width&&(r=e.width),void 0!==e.height&&(o=e.height)),s(i)?i=a:("."!=i[0]&&(i="."+i),i.match(/\.(jpg|png|svg)/i)||(i=a)),(s(r)||"*"==r)&&(r=600),(s(o)||"*"==o)&&(o=450),M()+t.serverHost+"/games/"+n+"/images/"+r+"x"+o+i},t.getDateNow=function(){return(new Date).toISOString().slice(0,19).replace("T"," ")},t.validGender=function(e){return function(e){return s(e)?"U":"M"==(e=e.toUpperCase())[0]?"M":"F"==e[0]?"F":"U"}(e)},t.restoreOnline=function(){return D()},t.sessionBegin=function(e,n,r){var s=0;return void 0!==n&&0!==n&&null!==n||(n=t.gameIdGet()),void 0===e||""===e||null===e?e=t.gameKey:t.gameKey=e,t.isUserLoggedIn()||(H(t.anonymousUserKey,t.anonymousUser,86400,"/","",!1),s=t.anonymousUser.userId),x("SessionBegin",{game_id:n,gamekey:e,site_mark:s},r)},t.sessionRefresh=function(e,n){var r="SessionRefresh";if(s(e)&&s(e=Z()))return t.lastError="NOT_LOGGED_IN",t.lastErrorMessage="You are not logged in.",G(r,0,t.lastError,t.lastErrorMessage,n);var o=t.gameIdGet(),i=t.gameKey,a=0;return t.isUserLoggedIn()||(a=t.anonymousUser.userId),x(r,{refresh_token:e,game_id:o,gamekey:i,site_mark:a},n)},t.sessionRefreshIfExpired=function(){return new Promise((function(e,r){var s,o,i,a,u,l=!1,c=t.loggedInUserInfo,f=d(t.SESSION_COOKIE);null!=f&&(u=6e4*(i=f.sessionExpires?new Date(f.sessionExpires):new Date).getTimezoneOffset(),a=Date.now().valueOf()>i.valueOf()-u,l=(s=U({siteId:t.siteId,userId:c.user_id,userName:c.user_name,siteUserId:c.site_user_id||"",accessLevel:c.access_level,siteKey:t.developerKey}))==f.cr&&Math.floor(c.user_id)==Math.floor(f.user_id),!a&&l?e(!0):a?(n("verifyUserSessionInfo Session expired but we think we can refresh it."),t.sessionRefresh(Z(),null).then((function(){e(!0)}),(function(e){r(e)})).catch((function(e){r(e)}))):(n("verifyUserSessionInfo "+(o="Session hash does not match but session not expired.")+" from cache: "+f.cr+". Computed here: "+s),r(new Error(o))))}))},t.voteForURIUnauth=function(e,t,n,r,s){return x("VoteForURIUnauth",{uri:e,vote_group_uri:t,vote_value:n,security_key:r},s)},t.voteCountPerURIGroup=function(e,t){return x("VoteCountPerURIGroup",{vote_group_uri:e},t)},t.developerGet=function(e,t){return x("DeveloperGet",{developer_id:e},t)},t.gameDataGet=function(e,t){return x("GameDataGet",{game_data_id:e},t)},t.gameDataCreate=function(e,t,n,r,s,o,i,a,u,l,c,d){return x("GameDataCreate",{referrer:e,from_address:t,from_name:n,to_address:r,to_name:s,user_msg:o,user_files:i,game_data:a,name_tag:u,add_to_gallery:l?1:0,last_score:c},d)},t.sendToFriend=function(e,r){var o="",i="GameDataCreate";if(t.authTokenWasValidated&&0!=Math.floor(t.loggedInUserInfo.user_id)||!s(e.from_address)&&!s(e.from_name)?s(t.gameId)&&(o="INVALID_GAME_ID"):o="INVALID_PARAMETER",""==o){var a={referrer:e.referrer||"enginesis",from_address:e.from_address||"",from_name:e.from_name||"",to_address:e.to_address||"",to_name:e.to_name||"User",user_msg:e.user_message||"",user_files:"",game_data:e.game_data||"",name_tag:e.name_tag||"",add_to_gallery:e.add_to_gallery||0,last_score:e.last_score||0};return e.game_image?new Promise((function(s){var o,u,l;(o="gameshare",u="game_image.png",l=e.game_image,new Promise((function(e,n){null==t.assetUploadQueue&&(t.assetUploadQueue=[]);var r="",s="",i={target:o,token:null,uploadId:0,fileName:u,fileSize:l.length,serverURL:"",uploadTime:Date.now()},a={site_id:t.siteId,action:"request",target:i.target,file:i.fileName,size:i.fileSize,game_id:t.gameId},c={method:"POST",mode:"cors",credentials:"same-origin",cache:"default",headers:L(),body:B(a)};fetch(t.siteResources.assetUploadURL,c).then((function(o){if(o&&o.ok){var c=o.headers.get("content-type");c&&c.includes("application/json")?o.json().then((function(n){null!=n?n.status&&"1"==n.status.success&&n.results?(i.token=n.results.token,i.uploadId=n.results.id,t.assetUploadQueue.push(i),ne(i,l).then((function(t){e(t)}),(function(t){e(t)})).catch((function(e){s="SERVICE_ERROR",r="Error: "+e.toString()+" Received from service with "+u+" with size "+fileSize+"."}))):(s="SERVICE_ERROR",r="Error: "+n.status.extended_info+" Received from service with "+u+" with size "+fileSize+"."):(s="SERVICE_ERROR",r="There was a service error during the upload operation. The support team has been notified.")})).catch((function(e){s="SERVICE_ERROR",r="Unexpected response received from service: "+e.toString()})):(s="SERVICE_ERROR",r="Unexpected response received from service when requesting upload token.")}else s="SERVICE_ERROR",r="Error received from service when requesting upload token.";""!=s&&n(m(s,r,a))}),(function(e){s="SERVICE_ERROR",r="Network error from service when requesting token. "+e.toString(),n(m(s,r,a))})).catch((function(e){s="SERVICE_ERROR",r="Unexpected response received from service when requesting token with "+e.toString()+".",n(m(s,r,a))}))}))).then((function(e){e.status&&"1"==e.status.success&&(a.user_files=e.results.path+e.results.file),x(i,a,r).then((function(e){s(e)}))}),(function(e){n("SendToFriend error "+e.toString()+" while uploading image, continuing anyway."),x(i,a,r).then((function(e){s(e)}))})).catch((function(e){n("SendToFriend exception "+e.toString()+" while uploading image, continuing anyway."),x(i,a,r).then((function(e){s(e)}))}))})):x(i,a,r)}return G(i,(t.gameId,e.from_address,e.from_name),o,"Error "+o+" encountered while processing send to friend.",r)},t.gameConfigGet=function(e,n,r,s,o){return void 0===e&&(e=0),void 0!==n&&0!=n||(n=t.gameIdGet()),void 0===s&&(s=""),void 0===r&&(r=0),x("GameConfigGet",{game_config_id:e,game_id:n,category_id:r,air_date:s},o)},t.gameTrackingRecord=function(n,r,s,o,i){return t.isBrowserBuild&&null!=e.ga&&ga("send","event",n,r,s,o),x("GameTrackingRecord",{hit_type:"REQUEST",hit_category:n,hit_action:r,hit_label:s,hit_data:o},i)},t.gameFind=function(e,t){return x("GameFind",{game_name_part:e},t)},t.gameFindByName=function(e,t){return x("GameFindByName",{game_name:e},t)},t.gameGet=function(e,t){return x("GameGet",{game_id:e},t)},t.gameGetByName=function(e,t){return x("GameGetByName",{game_name:e},t)},t.gameListByCategory=function(e,t,n){return x("GameListByCategory",{num_items_per_category:e,game_status_id:t},n)},t.gameListList=function(e){return x("GameListList",{},e)},t.gameListListGames=function(e,t){return x("GameListListGames",{game_list_id:e},t)},t.gameListListGamesByName=function(e,t){return x("GameListListGamesByName",{game_list_name:e},t)},t.gameListByMostPopular=function(e,t,n,r,s){return x("GameListByMostPopular",{start_date:e,end_date:t,start_item:n,num_items:r},s)},t.gameListByIdList=function(e,t,n){return x("GameListByIdList",{game_id_list:e,delimiter:t},n)},t.gameListCategoryList=function(e){return x("GameListCategoryList",{},e)},t.gameListListRecommendedGames=function(e,t){return x("GameListListRecommendedGames",{game_list_id:e},t)},t.gamePlayEventListByMostPlayed=function(e,t,n,r){return x("GamePlayEventListByMostPlayed",{start_date:e,end_date:t,num_items:n},r)},t.gameRatingGet=function(e,t){return x("GameRatingGet",{game_id:e},t)},t.gameRatingList=function(e,t,n){return x("GameRatingList",{game_id:e,num_items:t},n)},t.gameRatingUpdate=function(e,t,n){return x("GameRatingUpdate",{game_id:e,rating:t},n)},t.scoreSubmitUnauth=function(e,n,r,s,o,i,a){return x("ScoreSubmitUnauth",{game_id:e,session_id:t.sessionId,user_name:n,score:r,game_data:s,time_played:o,user_source:i},a)},t.scoreSubmit=function(e,n,r,o,i){var a,u="ScoreSubmit",l=t.sessionId,c="";return t.authTokenWasValidated&&0!=Math.floor(t.loggedInUserInfo.user_id)?null==l?c="INVALID_SESSION":s(e)&&s(e=t.gameId)&&(c="INVALID_GAME_ID"):c="NOT_LOGGED_IN",""==c&&null==(a=function(e,n,r,s,o,i,a){var u="site_id="+e.toString()+"&user_id="+n.toString()+"&game_id="+r.toString()+"&score="+s.toString()+"&game_data="+o+"&time_played="+i.toString();return console.log("Encrypting with "+a+" data "+u),t.blowfish.encryptString(u,a)}(t.siteId,t.loggedInUserInfo.user_id,e,n,r,o,l))&&(c="INVALID_PARAMETER"),""==c?x(u,{data:a},i):G(u,0,c,"Error encountered while processing score submit.",i)},t.scoreRankList=function(e,n,r,o,i,a){return s(e)&&s(e=t.gameId)&&"INVALID_GAME_ID",s(n)&&(n=0),s(r)&&(r=0),s(o)&&(o=1),s(i)&&(i=100),x("ScoreRankList",{game_id:e,time_period_type:n,time_period:r,start_rank:o,num_ranks:i},a)},t.newsletterCategoryList=function(e){return x("NewsletterCategoryList",{},e)},t.newsletterAddressAssign=function(e,t,n,r,s){return x("NewsletterAddressAssign",{email_address:e,user_name:t,company_name:n,categories:r,delimiter:","},s)},t.newsletterAddressUpdate=function(e,t,n,r,s,o){return x("NewsletterAddressUpdate",{newsletter_address_id:e,email_address:t,user_name:n,company_name:r,active:s},o)},t.newsletterAddressDelete=function(e,t){return x("NewsletterAddressDelete",{email_address:e,newsletter_address_id:"NULL"},t)},t.newsletterAddressGet=function(e,t){return x("NewsletterAddressGet",{email_address:e},t)},t.promotionItemList=function(e,t,n){return x("PromotionItemList",{promotion_id:e,query_date:t},n)},t.promotionList=function(e,t,n,r){return x("PromotionItemList",{promotion_id:e,query_date:t,show_items:n},r)},t.recommendedGameList=function(e,t){return x("RecommendedGameList",{game_id:e},t)},t.registeredUserCreate=function(e,n,r,o,i,a,u,l,c,d,f,g,m,h,V,p,A,v,I,y,_,S,w,U,R){return x("RegisteredUserCreate",{site_id:siteId,captcha_id:s(w)?t.captchaId:w,captcha_response:s(U)?t.captchaResponse:U,user_name:e,site_user_id:h,network_id:V,real_name:o,password:n,dob:i,gender:a,city:u,state:l,zipcode:c,email_address:r,country_code:d,mobile_number:f,im_id:g,agreement:p,security_question_id:1,security_answer:"",img_url:"",about_me:y,tagline:m,additional_info:_,source_site_id:S},R)},t.registeredUserUpdate=function(e,n,r,o,i,a,u,l,c,d,f,g,m,h,V,p,A,v,I,y,_,S,w,U,R){return x("RegisteredUserUpdate",{site_id:siteId,captcha_id:s(w)?t.captchaId:w,captcha_response:s(U)?t.captchaResponse:U,user_name:e,real_name:o,dob:i,gender:a,city:u,state:l,zipcode:c,email_address:r,country_code:d,mobile_number:f,im_id:g,img_url:"",about_me:y,tagline:m,additional_info:_},R)},t.registeredUserSecurityUpdate=function(e,n,r,o,i,a){return x("RegisteredUserSecurityUpdate",{site_id:siteId,captcha_id:s(captchaId)?t.captchaId:captchaId,captcha_response:s(captchaResponse)?t.captchaResponse:captchaResponse,security_question_id:r,security_question:o,security_answer:i},a)},t.registeredUserConfirm=function(e,t,n){return x("RegisteredUserConfirm",{user_id:e,secondary_password:t},n)},t.registeredUserForgotPassword=function(e,t,n){return x("RegisteredUserForgotPassword",{user_name:e,email:t},n)},t.registeredUserResetSecondaryPassword=function(e,t,n,r,s){return x("RegisteredUserResetSecondaryPassword",{user_id:e,user_name:t,email_address:n,secondary_password:r},s)},t.registeredUserRequestPasswordChange=function(e){return x("RegisteredUserRequestPasswordChange",{site_id:t.siteId},e)},t.registeredUserPasswordChange=function(e,n,r,o,i){return x("RegisteredUserPasswordChange",{site_id:siteId,captcha_id:s(captchaId)?t.captchaId:captchaId,captcha_response:s(captchaResponse)?t.captchaResponse:captchaResponse,password:r,secondary_password:o},i)},t.registeredUserSecurityGet=function(e){return x("RegisteredUserSecurityGet",{site_id:t.siteId,site_user_id:""},e)},t.registeredUserGet=function(e,t,n,r){return x("RegisteredUserGet",{get_user_id:e,site_user_id:t,network_id:n},r)},t.siteListGames=function(e,t,n,r){return(null==e||e<0)&&(e=1),(null==t||t>500)&&(t=500),(null==n||n>3)&&(n=2),x("SiteListGames",{start_item:e,num_items:t,game_status_id:n},r)},t.siteListGamesRandom=function(e,t){return(null==e||e>500)&&(e=500),x("SiteListGamesRandom",{num_items:e},t)},t.userGetByName=function(e,t){return x("UserGetByName",{user_name:e},t)},t.userLogout=function(e){return x("UserLogout",{},e)},t.userLogin=function(e,t,n){return x("UserLogin",{user_name:e,password:t},n)},t.userLoginCoreg=function(e,t,n){return void 0!==e.siteUserId&&0!=e.siteUserId.length&&((void 0!==e.userName&&0!=e.userName.length||void 0!==e.realName&&0!=e.realName.length)&&(void 0===e.userName&&(e.userName=""),void 0===e.realName&&(e.realName=""),(void 0===e.gender||0==e.gender.length||"M"!=e.gender&&"F"!=e.gender&&"U"!=e.gender)&&(e.gender="U"),void 0===e.emailAddress&&(e.emailAddress=""),void 0===e.scope&&(e.scope=""),void 0===e.agreement&&(e.agreement="0"),void 0===e.idToken&&(e.idToken=""),void 0===e.avatarURL&&(e.avatarURL=""),void 0===e.dob||0==e.dob.length?(e.dob=new Date,e.dob=e.dob.toISOString().slice(0,9)):e.dob instanceof Date&&(e.dob=e.dob.toISOString().slice(0,9)),x("UserLoginCoreg",{site_user_id:e.siteUserId,user_name:e.userName,real_name:e.realName,email_address:e.emailAddress,gender:e.gender,dob:e.dob,network_id:t,scope:e.scope,agreement:e.agreement,avatar_url:e.avatarURL,id_token:e.idToken},n)))},t.avatarURL=function(e,n){return 0==n&&(n=t.loggedInUserInfo?t.loggedInUserInfo.user_id:0),e<0?e=0:e>2&&(e=2),t.siteResources.avatarImageURL+"?site_id="+t.siteId+"&user_id="+n+"&size="+e},t.quizGet=function(e,t){return x("QuizGet",{game_id:e},t)},t.quizPlay=function(e,t,n){return x("QuizPlay",{game_id:e,game_group_id:t},n)},t.quizPlayScheduled=function(e,t,n){return x("QuizPlayScheduled",{game_id:e,game_group_id:t},n)},t.quizOutcomesCountList=function(e,t,n){return x("QuizOutcomesCountList",{game_id:e,game_group_id:t},n)},t.quizSubmit=function(e,t,n){return x("QuizSubmit",{game_id:e,results:t},n)},t.quizQuestionPlayed=function(e,t,n,r){return x("QuizQuestionPlayed",{game_id:e,question_id:t,choice_id:n},r)},t.isUserFavoriteGame=function(e,n){e=parseInt(e,10)||t.gameId;var r=t.favoriteGames.has(e);return"function"==typeof n&&t.favoriteGamesNextCheck<Date.now()&&x("UserFavoriteGamesList",{},null).then((function(r){n(e,t.favoriteGames.has(e))})),r},t.userFavoriteGamesList=function(e){return t.favoriteGamesNextCheck=Date.now()+6e4,x("UserFavoriteGamesList",{},e)},t.userFavoriteGamesAssign=function(e,n){return e=e||t.gameId,t.favoriteGames.add(e),x("UserFavoriteGamesAssign",{game_id:e},n)},t.userFavoriteGamesAssignList=function(e,n){for(var r=e.split(","),s=0;s<r.length;s++)t.favoriteGames.add(r[s]);return x("UserFavoriteGamesAssignList",{game_id_list:e,delimiter:","},n)},t.userFavoriteGamesUnassign=function(e,n){return e=e||t.gameId,t.favoriteGames.delete(e),x("UserFavoriteGamesUnassign",{game_id:e},n)},t.userFavoriteGamesUnassignList=function(e,n){for(var r=e.split(","),s=0;s<r.length;s++)t.favoriteGames.delete(r[s]);return x("UserFavoriteGamesUnassignList",{game_id_list:e,delimiter:","},n)},t.userFavoriteGamesMove=function(e,t,n){return x("UserFavoriteGamesMove",{game_id:e,sort_order:t},n)},t.anonymousUserSetDateLastVisit=function(){null==t.anonymousUser&&X(),t.anonymousUser.dateLastVisit=new Date},t.anonymousUserSetSubscriberEmail=function(e,n){var r;null==t.anonymousUser&&X(),void 0===n&&(n=!0),r=t.anonymousUser.subscriberEmail,(n&&e!=r||!n&&s(r))&&(t.anonymousUser.subscriberEmail=e,ee())},t.anonymousUserGetSubscriberEmail=function(){return null==t.anonymousUser&&X(),t.anonymousUser.subscriberEmail},t.anonymousUserSetUserName=function(e,n){var r;null==t.anonymousUser&&X(),void 0===n&&(n=!0),r=t.anonymousUser.userName,(n&&e!=r||!n&&s(r))&&(t.anonymousUser.userName=e,ee())},t.anonymousUserGetUserName=function(){return null==t.anonymousUser&&X(),t.anonymousUser.userName},t.anonymousUserSetId=function(e){null==t.anonymousUser&&X(),(void 0===t.anonymousUser.userId||t.anonymousUser.userId<1e4)&&(t.anonymousUser.userId=e,ee())},t.anonymousUserGetId=function(){return null==t.anonymousUser&&X(),t.anonymousUser.userId||0},t.anonymousUserAddFavoriteGame=function(e){null==t.anonymousUser&&X(),t.anonymousUser.favoriteGames.add(e),ee()},t.anonymousUserGamePlayed=function(e){null==t.anonymousUser&&X(),t.anonymousUser.gamesPlayed.add(e),ee()},t.conferenceAssetRootPath=function(e){return"//"+t.serverHost+"/sites/"+siteId+"/conf/"+e+"/"},t.conferenceGet=function(e,t){var n;return parseInt(e,10)>0?n="":(n=e,e=0),x("ConferenceGet",{conference_id:e,visible_id:n},t)},t.conferenceTopicGet=function(e,t,n){var r;return parseInt(e,10)>0?r="":(r=e,e=0),x("ConferenceTopicGet",{conference_id:e,visible_id:r,conference_topic_id:t},n)},t.conferenceTopicList=function(e,t,n,r,s,o,i){var a;return parseInt(e,10)>0?a="":(a=e,e=0),x("ConferenceTopicList",{conference_id:e,visible_id:a,tags:t,start_date:n,end_date:r,start_item:s,num_items:o},i)},"function"==typeof define&&define.amd)define((function(){return t}));else if("object"==typeof exports)module.exports=t;else{var re=e.enginesis;t.existingEnginesis=function(){return e.enginesis=re,this},e.enginesis=t}}(this);